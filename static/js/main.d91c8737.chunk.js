(this.webpackJsonpshopping=this.webpackJsonpshopping||[]).push([[0],{118:function(n,e,t){},225:function(n,e,t){"use strict";t.r(e);var r,i,a,c=t(2),o=t(55),d=t.n(o),s=(t(118),t(43)),l=t(16),p=t(19),u=t(15),j=t(106),b=t(228),x=function(n){return function(e){return function(t){var r=e(t),i=n.getState();return localStorage.order=JSON.stringify(i),r}}},h=t(59),m="addItemToCart",O="removeItemFromCart",f="postOrderSuccess",g="closeOrder",v=function(n){for(var e={},t=0,r=Object.keys(n);t<r.length;t++){var i=r[t];e[i]=Object(h.a)({},n[i])}return e},y=function(n,e){var t=v(n);return t[e.id]?t[e.id].count++:t[e.id]=Object(h.a)(Object(h.a)({},e),{},{count:1}),t},w=function(n,e){var t=e.id,r=v(n);return r[t].count--,0===r[t].count&&delete r[t],r},k=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:var t=e.payload,r=y(n,t);return r;case O:var i=e.payload,a=w(n,i);return a;case f:return{};default:return n}},C=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return n+e.payload.price;case O:return n-e.payload.price;case f:return 0;default:return n}},I=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:return 1;case g:return 0;default:return n}},S=localStorage.order?JSON.parse(localStorage.order):{total:0,cart:{}},T=Object(u.d)(Object(u.c)({total:C,cart:k,order:I,form:b.a}),S,Object(u.a)(j.a,x)),E=t(9),z=t(10),F=t(227),B=t(226),D={text:"#212121",secondaryText:"#757575",divider:"#BDBDBD",primary:"#FFEB3B",lightPrimary:"#FFF9C4",darkParimry:"#FBC02D",accentColor:"#4CAF50"},A=z.a.button(r||(r=Object(E.a)(["\n    background-color: ",";\n    color: ",";\n    border-radius: 5px;\n    border: none;\n    box-shadow: 0px 2px 5px rgba(10, 10, 10, 50);\n    text-transform: uppercase;\n    letter-spacing: 0.1rem;\n    font-weight: bold;\n    outline: none;\n    transition: background-color 0.2s, box-shadow 0.2s;\n    cursor: pointer;\n\n    &:hover {\n        background-color: ",";\n    }\n    &:active {\n        box-shadow: none\n    }\n"])),D.darkParimry,D.text,D.lightPrimary),R=t(4),U=z.a.form(i||(i=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  box-shadow: 0 2px 10px;\n  padding: 10px;\n\n  & input {\n    margin-bottom: 10px;\n    width: 100%;\n    padding: 10px 5px;\n  }\n"]))),P=Object(z.a)(A)(a||(a=Object(E.a)(["\n  width: 100%;\n  padding: 10px 0;\n  background-color: ",";\n  font-size: 1.5rem;\n"])),D.accentColor),N=Object(p.b)((function(n){var e=n.cart;return{isOrderListEmpty:0===Object.keys(e).length}}))(Object(B.a)({form:"order"})((function(n){var e=n.isOrderListEmpty,t=n.handleSubmit;return Object(R.jsxs)(U,{onSubmit:t,children:[Object(R.jsx)(F.a,{name:"name",required:!0,placeholder:"NAME",component:"input"}),Object(R.jsx)(F.a,{name:"surname",required:!0,placeholder:"SURNAME",component:"input"}),Object(R.jsx)(F.a,{name:"address",required:!0,placeholder:"ADDRESS",component:"input"}),Object(R.jsx)(F.a,{name:"phone",required:!0,placeholder:"PHONE",component:"input",type:"tel"}),!e&&Object(R.jsx)(P,{children:"Order"})]})}))),L=t(83);L.a.initializeApp({apiKey:"AIzaSyDZyWjzCxBvcTuXVD8wnxKAIshpSkg_Rlk",authDomain:"lampa-technical-task.firebaseapp.com",databaseURL:"https://lampa-technical-task-default-rtdb.europe-west1.firebasedatabase.app",projectId:"lampa-technical-task",storageBucket:"lampa-technical-task.appspot.com",messagingSenderId:"190753962354",appId:"1:190753962354:web:0cd7edb995e481918785eb",measurementId:"G-GWDMSQTYNF"});var q,J,M,G,K,W,Y,H,Q,V,X,Z,_,$,nn,en,tn,rn,an,cn,on,dn=L.a,sn=function(n){return{type:m,payload:n}},ln=function(n){return{type:O,payload:n}},pn=function(){return{type:g}},un=function(n){return function(e,t){var r=dn.database().ref("/order"),i=t(),a=i.cart,c=i.total,o={items:Object.keys(a),clientInfo:n,price:c};r.set(o),e({type:f})}},jn={sm:"576px",md:"768px",lg:"992px",xl:"1200px"},bn=z.a.div(q||(q=Object(E.a)(["\n  width: 100%;\n  padding: 0 10px;\n  font-size: 1.3rem;\n  & p {\n      margin-top: 10px;\n  }\n"]))),xn=z.a.div(J||(J=Object(E.a)(["\n  display: flex;\n  box-shadow: 0 2px 10px;\n  height: 100px;\n"]))),hn=z.a.div(M||(M=Object(E.a)(["\n  display: none;\n  & img {\n    display: block;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media screen and (min-width: ",") {\n    display: block;\n  }\n"])),jn.sm),mn=Object(z.a)(bn)(G||(G=Object(E.a)(["\n  padding: 10px 0 10px 10px;\n  font-size: 1rem;\n  & p {\n    margin-top: 0;\n    margin-bottom: 10px;\n  }\n"]))),On=z.a.div(K||(K=Object(E.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-right: 20px;\n"]))),fn=Object(z.a)(A)(W||(W=Object(E.a)(["\n  width: 30px;\n  height: 30px;\n  font-size: 1.4rem;\n"]))),gn=z.a.p(Y||(Y=Object(E.a)(["\n  width: 30px;\n  text-align: center;\n"]))),vn=function(n){var e=n.imgUrl,t=n.title,r=n.price,i=n.count,a=n.onAddItem,c=n.onRemoveItem;return Object(R.jsxs)(xn,{children:[Object(R.jsx)(hn,{children:Object(R.jsx)("img",{src:e,alt:""})}),Object(R.jsxs)(mn,{children:[Object(R.jsxs)("p",{children:["Title: ",t]}),Object(R.jsxs)("p",{children:["Price: ",r,"\u20b4"]})]}),Object(R.jsxs)(On,{children:[Object(R.jsx)(fn,{onClick:a,children:"+"}),Object(R.jsx)(gn,{children:i}),Object(R.jsx)(fn,{onClick:c,children:"-"})]})]})},yn=z.a.ul(H||(H=Object(E.a)(["\n  list-style: none;\n\n  & > li {\n    width: 100%;\n    margin-bottom: 10px;\n  }\n"]))),wn=Object(p.b)((function(n){var e=n.cart;return{items:Object.values(e)}}),(function(n){return Object(u.b)({addItemToCart:sn,removeItemFromCart:ln},n)}))((function(n){var e=n.items,t=n.addItemToCart,r=n.removeItemFromCart,i=e.map((function(n){var e=n.id,i=n.imgUrl,a=n.title,c=n.price,o=n.count;return Object(R.jsx)("li",{children:Object(R.jsx)(vn,{imgUrl:i,title:a,price:c,count:o,onAddItem:function(){return t(n)},onRemoveItem:function(){return r(n)}})},e)}));return Object(R.jsx)(yn,{children:i})})),kn=z.a.div(Q||(Q=Object(E.a)(["\n  text-decoration: underline;\n  margin-right: auto;\n"]))),Cn=z.a.div(V||(V=Object(E.a)(["\n  display: flex;\n  flex-direction: column-reverse;\n  max-width: 1200px;\n  width: 75%;\n  margin: 80px auto 0 auto;\n\n  & > * {\n    margin-bottom: 20px;\n  }\n\n  @media screen and (min-width: ",") {\n    flex-direction: column;\n  }\n"])),jn.md),In=z.a.div(X||(X=Object(E.a)(["\n  display: flex;\n  height: 50vh;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5rem;\n  box-shadow: 0 2px 10px;\n"]))),Sn=z.a.div(Z||(Z=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  @media screen and (min-width: ",") {\n    flex-direction: row;\n\n    & > *:first-child {\n      flex: 2;\n      margin-right: 20px;\n    }\n\n    & > *:last-child {\n      flex: 1;\n      height: 265px;\n    }\n  }\n"])),jn.md),Tn=z.a.div(_||(_=Object(E.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0 2px 10px;\n  font-size: 1.5rem;\n"]))),En=Object(p.b)((function(n){var e=n.cart,t=n.total,r=n.order;return{isOrderListEmty:0===Object.keys(e).length,totalCost:t,shouldRedirect:1===r}}),(function(n){return Object(u.b)({postOrder:un,closeOrder:pn},n)}))((function(n){var e=n.totalCost,t=n.isOrderListEmty,r=n.shouldRedirect,i=n.postOrder,a=n.closeOrder,c=Object(l.f)();return r&&setTimeout((function(){a(),c.push("/")}),3e3),Object(R.jsxs)(Cn,{children:[r&&Object(R.jsx)(In,{children:"Thank you for your order!"}),!r&&Object(R.jsxs)(Sn,{children:[!t&&Object(R.jsx)(wn,{}),t&&Object(R.jsx)(Tn,{children:"Your Cart is Empty"}),Object(R.jsx)(N,{onSubmit:function(n){i(n)}})]}),Object(R.jsxs)(kn,{children:["Total: ",e,"\u20b4"]})]})})),zn=t(39),Fn=t.n(zn),Bn=t(57),Dn=t(112),An=function(){var n=Object(Bn.a)(Fn.a.mark((function n(){var e,t;return Fn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=dn.database().ref("items"),n.next=3,e.once("value");case 3:return t=n.sent,n.abrupt("return",t.val());case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Rn=z.a.div($||($=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 2px 10px;\n  height: 300px;\n  padding-bottom: 10px;\n  color: ",";\n"])),D.text),Un=z.a.div(nn||(nn=Object(E.a)(["\n  width: 100%;\n  height: 130px;\n  overflow: hidden;\n  & img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),Pn=Object(z.a)(A)(en||(en=Object(E.a)(["\n  width: 80%;\n  padding: 10px 0;\n"]))),Nn=function(n){var e=n.imgUrl,t=n.title,r=n.price,i=n.onClick;return Object(R.jsxs)(Rn,{children:[Object(R.jsx)(Un,{children:Object(R.jsx)("img",{src:e,alt:""})}),Object(R.jsxs)(bn,{children:[Object(R.jsxs)("p",{children:[Object(R.jsx)("b",{children:"Title:"})," ",t]}),Object(R.jsxs)("p",{children:[Object(R.jsx)("b",{children:"Price:"})," ",r,"\u20b4"]})]}),Object(R.jsx)(Pn,{onClick:i,children:"Buy"})]})},Ln=z.a.ul(tn||(tn=Object(E.a)(["\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n  max-width: 1200px;\n  width: 75%;\n  margin: 80px auto 0 auto;\n\n  & > * {\n    margin: 0 0 20px 0;\n    width: 100%;\n    @media screen and (min-width: ",") {\n      margin-right: 1%;\n      width: 48%;\n    }\n    @media screen and (min-width: ",") {\n      width: 32%;\n    }\n    @media screen and (min-width: ",") {\n      width: 24%;\n    }\n    @media screen and (min-width: ",") {\n      width: 19%;\n    }\n  }\n"])),jn.sm,jn.md,jn.lg,jn.xl),qn=Object(p.b)(null,(function(n){return Object(u.b)({addItemToCart:sn},n)}))((function(n){var e=n.addItemToCart,t=Object(c.useState)([]),r=Object(Dn.a)(t,2),i=r[0],a=r[1];Object(c.useEffect)((function(){function n(){return(n=Object(Bn.a)(Fn.a.mark((function n(){var e;return Fn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,An();case 2:e=n.sent,a(e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var o=i.map((function(n){var t=n.id,r=n.imgUrl,i=n.title,a=n.price;return Object(R.jsx)("li",{children:Object(R.jsx)(Nn,{imgUrl:r,title:i,price:a,onClick:function(){return e(n)}})},t)}));return Object(R.jsx)(Ln,{children:o})})),Jn=z.a.header(rn||(rn=Object(E.a)(["\n  width: 100%;\n  max-width: 1440px;\n  height: 72px;\n  padding: 0 20px;\n  background-color: ",";\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  position: fixed;\n  color: ",";\n  left: 50%;\n  top: 0;\n  transform: translate(-50%, 0);\n  z-index: 1;\n"])),D.primary,D.text),Mn=z.a.div(an||(an=Object(E.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  width: 215px;\n"]))),Gn=Object(z.a)(A)(cn||(cn=Object(E.a)(["\n  width: 80px;\n  height: 40px;\n  margin-left: 10px;\n"]))),Kn=z.a.div(on||(on=Object(E.a)(["\n  margin-right: auto;\n\n  & > a {\n    color: ",";\n    font-size: 1.2rem;\n    transition: color 0.2s;\n\n    &:hover {\n      color: ","\n    }\n  }\n"])),D.text,D.secondaryText),Wn=Object(p.b)((function(n){return{totalCost:n.total}}))((function(n){var e=n.totalCost,t=Object(l.f)(),r=Object(l.g)().pathname.includes("/cart");return Object(R.jsxs)(Jn,{children:[!r&&Object(R.jsxs)(Mn,{children:[e>0&&Object(R.jsxs)(kn,{children:["Total: ",e,"\u20b4"]}),Object(R.jsx)(Gn,{onClick:function(){return t.push("/cart")},children:"Cart"})]}),r&&Object(R.jsx)(Kn,{children:Object(R.jsx)(s.b,{to:"/",children:"To Catalogue"})})]})}));var Yn=function(){return Object(R.jsx)(p.a,{store:T,children:Object(R.jsxs)(s.a,{children:[Object(R.jsx)(Wn,{}),Object(R.jsxs)(l.c,{children:[Object(R.jsx)(l.a,{exact:!0,path:"/",children:Object(R.jsx)(qn,{})}),Object(R.jsx)(l.a,{path:"/cart",children:Object(R.jsx)(En,{})})]})]})})};d.a.render(Object(R.jsx)(Yn,{}),document.getElementById("root"))}},[[225,1,2]]]);
//# sourceMappingURL=main.d91c8737.chunk.js.map